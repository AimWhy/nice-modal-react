{"version":3,"sources":["useHash.js","CodeViewer.jsx","MyAntdModal.tsx","webpack:///./src/UserInfoModal.jsx?3e7a","webpack:///./src/UserList.jsx?90fc","../../../src/index.tsx","UserInfoModal.jsx","mock.js","App.jsx","UserList.jsx","reportWebVitals.ts","index.tsx"],"names":["getHash","document","location","hash","replace","useHash","useState","setHash","useEffect","handleHashChange","window","scrollTo","top","addEventListener","removeEventListener","codeMap","CodeViewer","filename","Prism","highlightAll","className","modalId","a","NiceModal","user","modal","useModal","Form","useForm","form","meta","initialValues","fields","key","label","required","handleSubmit","useCallback","validateFields","then","hide","getFieldsValue","antdModal","title","okText","onOk","data","id","name","job","city","examples","real","component","userModal","UserInfoModal","mockData","users","setUsers","handleNewUser","show","newUser","handleEditUser","byId","_","keyBy","values","columns","useMemo","dataIndex","width","render","value","type","icon","EditOutlined","onClick","size","pagination","dataSource","style","marginTop","description","code","mui","antd","bootstrap","redux","App","current","example","Object","keys","map","href","src","alt","item","color","Comp","renderExample","f","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6fce387b.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nconst getHash = () => document.location.hash.replace('#', '');\n\nconst useHash = () => {\n  const [hash, setHash] = useState(getHash());\n  useEffect(() => {\n    function handleHashChange() {\n      const hash = getHash() || 'basic';\n      setHash(hash);\n      window.scrollTo({ top: 0 });\n    }\n    window.addEventListener('hashchange', handleHashChange);\n    return () => {\n      window.removeEventListener('hashchange', handleHashChange);\n    };\n  }, [setHash]);\n  return hash;\n};\n\nexport default useHash;\n","/* eslint import/no-webpack-loader-syntax: off */\n\nimport React, { useEffect } from 'react';\nimport codeAntd from '!!raw-loader!./MyAntdModal.tsx';\nimport codeUserList from '!!raw-loader!./UserList.jsx';\nimport codeUserInfoModal from '!!raw-loader!./UserInfoModal.jsx';\n// import codeAntd from '!!raw-loader!./MyAntdModal.tsx';\n\nconst codeMap = {\n  'MyAntdModal.tsx': codeAntd,\n  'UserInfoModal.jsx': codeUserInfoModal,\n  'UserList.jsx': codeUserList,\n};\nexport default function CodeViewer({ filename }) {\n  useEffect(() => {\n    window.Prism.highlightAll();\n  }, [filename]);\n  return (\n    <div className=\"code-viewer\">\n      <h5>{filename}</h5>\n      <pre>\n        <code className=\"language-jsx line-numbers\">\n          {codeMap[filename] || `// Error: code of \"${filename}\" not found`}\n        </code>\n      </pre>\n    </div>\n  );\n}\n","export default \"import { Modal, Button, Space } from 'antd';\\nimport { create, useModal, antdModal } from '@ebay/nice-modal-react';\\n\\nexport default create(({ name }: { name: string }) => {\\n  const modal = useModal();\\n  const handleResolve = () => {\\n    modal.hide({ resolved: true });\\n  };\\n  const handleReject = () => {\\n    modal.hide(new Error('Failed to do something.'));\\n  };\\n  return (\\n    <Modal title=\\\"Hello Antd\\\" {...antdModal(modal)}>\\n      Greetings:{name}{' '}\\n      <Space>\\n        <Button onClick={handleResolve}>Resolve</Button>\\n        <Button type=\\\"primary\\\" onClick={handleReject}>\\n          Reject\\n        </Button>\\n      </Space>\\n    </Modal>\\n  );\\n});\\n\";","export default \"import { useCallback } from 'react';\\nimport { Form, Modal } from 'antd';\\nimport FormBuilder from 'antd-form-builder';\\nimport NiceModal, { useModal, antdModal } from '@ebay/nice-modal-react';\\n\\nexport default NiceModal.create(({ user }) => {\\n  const modal = useModal();\\n  const [form] = Form.useForm();\\n  const meta = {\\n    initialValues: user,\\n    fields: [\\n      { key: 'name', label: 'Name', required: true },\\n      { key: 'job', label: 'Job Title', required: true },\\n    ],\\n  };\\n\\n  const handleSubmit = useCallback(() => {\\n    form.validateFields().then(() => {\\n      modal.hide({ ...user, ...form.getFieldsValue() });\\n    });\\n  }, [modal, user, form]);\\n  return (\\n    <Modal\\n      {...antdModal(modal)}\\n      title={user ? 'Edit User' : 'New User'}\\n      okText={user ? 'Update' : 'Create'}\\n      onOk={handleSubmit}\\n    >\\n      <Form form={form}>\\n        <FormBuilder meta={meta} form={form} />\\n      </Form>\\n    </Modal>\\n  );\\n});\\n\";","export default \"import { useMemo, useCallback, useState } from 'react';\\nimport _ from 'lodash';\\nimport { Button, Table } from 'antd';\\nimport { EditOutlined } from '@ant-design/icons';\\nimport { useModal } from '@ebay/nice-modal-react';\\nimport UserInfoModal from './UserInfoModal';\\nimport mockData from './mock';\\n\\nexport default function UserList() {\\n  const userModal = useModal(UserInfoModal);\\n  const [users, setUsers] = useState(mockData);\\n\\n  const handleNewUser = useCallback(() => {\\n    userModal.show().then((newUser) => {\\n      if (newUser) setUsers([newUser, ...users]);\\n    });\\n  }, [userModal, users]);\\n\\n  const handleEditUser = useCallback(\\n    (user) => {\\n      userModal.show({ user }).then((newUser) => {\\n        if (!newUser) return;\\n        setUsers((users) => {\\n          // Modify users immutablly\\n          const byId = _.keyBy(users, 'id');\\n          byId[newUser.id] = newUser;\\n          return _.values(byId);\\n        });\\n      });\\n    },\\n    [userModal],\\n  );\\n\\n  const columns = useMemo(\\n    () => [\\n      {\\n        title: 'Name',\\n        dataIndex: 'name',\\n        width: '150px',\\n      },\\n      {\\n        title: 'Job Title',\\n        dataIndex: 'job',\\n      },\\n      {\\n        title: 'Edit',\\n        width: '100px',\\n        render(value, user) {\\n          return (\\n            <Button\\n              type=\\\"link\\\"\\n              icon={<EditOutlined />}\\n              onClick={() => {\\n                handleEditUser(user);\\n              }}\\n            />\\n          );\\n        },\\n      },\\n    ],\\n    [handleEditUser],\\n  );\\n\\n  return (\\n    <div>\\n      <Button type=\\\"primary\\\" onClick={handleNewUser}>\\n        + New User\\n      </Button>\\n      <Table size=\\\"small\\\" pagination={false} columns={columns} dataSource={users} style={{ marginTop: '20px' }} />\\n    </div>\\n  );\\n}\\n\";","/* *********************************************************\n * Copyright 2021 eBay Inc.\n\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n*********************************************************** */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo, useContext, useReducer } from 'react';\nvar symModalId = Symbol('NiceModalId');\nvar initialState = {};\nvar NiceModalContext = React.createContext(initialState);\nvar NiceModalIdContext = React.createContext(null);\nvar MODAL_REGISTRY = {};\nvar ALREADY_MOUNTED = {};\nvar uidSeed = 0;\nvar dispatch;\nvar getUid = function () { return \"_nice_modal_\" + uidSeed++; };\n// Modal reducer used in useReducer hook.\nexport var reducer = function (state, action) {\n    var _a, _b, _c;\n    if (state === void 0) { state = initialState; }\n    switch (action.type) {\n        case 'nice-modal/show': {\n            var _d = action.payload, modalId = _d.modalId, args = _d.args;\n            return __assign(__assign({}, state), (_a = {}, _a[modalId] = __assign(__assign({}, state[modalId]), { id: modalId, args: args, \n                // If modal is not mounted, mount it first then make it visible.\n                // There is logic inside HOC wrapper to make it visible after its frist mount.\n                // This mechanism ensures the entering transition.\n                visible: !!ALREADY_MOUNTED[modalId], deplayVisible: !ALREADY_MOUNTED[modalId] }), _a));\n        }\n        case 'nice-modal/hide': {\n            var modalId = action.payload.modalId;\n            if (!state[modalId])\n                return state;\n            return __assign(__assign({}, state), (_b = {}, _b[modalId] = __assign(__assign({}, state[modalId]), { visible: false }), _b));\n        }\n        case 'nice-modal/remove': {\n            var modalId = action.payload.modalId;\n            var newState = __assign({}, state);\n            delete newState[modalId];\n            return newState;\n        }\n        case 'nice-modal/set-flags': {\n            var _e = action.payload, modalId = _e.modalId, flags = _e.flags;\n            return __assign(__assign({}, state), (_c = {}, _c[modalId] = __assign(__assign({}, state[modalId]), flags), _c));\n        }\n        default:\n            return state;\n    }\n};\n// action creator to show a modal\nfunction showModal(modalId, args) {\n    return {\n        type: 'nice-modal/show',\n        payload: {\n            modalId: modalId,\n            args: args,\n        },\n    };\n}\n// action creator to set flags of a modal\nfunction setModalFlags(modalId, flags) {\n    return {\n        type: 'nice-modal/set-flags',\n        payload: {\n            modalId: modalId,\n            flags: flags,\n        },\n    };\n}\n// action creator to hide a modal\nfunction hideModal(modalId) {\n    return {\n        type: 'nice-modal/hide',\n        payload: {\n            modalId: modalId,\n        },\n    };\n}\n// action creator to remove a modal\nfunction removeModal(modalId) {\n    return {\n        type: 'nice-modal/remove',\n        payload: {\n            modalId: modalId,\n        },\n    };\n}\nvar modalCallbacks = {};\nvar getModalId = function (modal) {\n    if (typeof modal === 'string')\n        return modal;\n    if (!modal[symModalId]) {\n        modal[symModalId] = getUid();\n    }\n    return modal[symModalId];\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var show = function (modal, args) {\n    var modalId = getModalId(modal);\n    if (typeof modal !== 'string' && !MODAL_REGISTRY[modalId]) {\n        register(modalId, modal);\n    }\n    dispatch(showModal(modalId, args));\n    if (!modalCallbacks[modalId]) {\n        var theResolve_1;\n        var theReject_1;\n        var promise = new Promise(function (resolve, reject) {\n            theResolve_1 = resolve;\n            theReject_1 = reject;\n        });\n        // TODO: how to avoid below typescript ignore\n        //eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        //@ts-ignore\n        modalCallbacks[modalId] = { resolve: theResolve_1, reject: theReject_1, promise: promise };\n    }\n    return modalCallbacks[modalId].promise;\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var hide = function (modal, args) {\n    var modalId = getModalId(modal);\n    dispatch(hideModal(modalId));\n    var callback = modalCallbacks[modalId];\n    if (!(args instanceof Error) && (callback === null || callback === void 0 ? void 0 : callback.resolve)) {\n        callback.resolve(args);\n    }\n    else if (args instanceof Error && (callback === null || callback === void 0 ? void 0 : callback.reject)) {\n        callback.reject(args);\n    }\n    delete modalCallbacks[modalId];\n};\nexport var remove = function (modalId) {\n    dispatch(removeModal(modalId));\n    delete modalCallbacks[modalId];\n};\nvar setFlags = function (modalId, flags) {\n    dispatch(setModalFlags(modalId, flags));\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var useModal = function () {\n    var params = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n    }\n    var modal = params[0];\n    var args = params[1];\n    var modals = useContext(NiceModalContext);\n    var contextModalId = useContext(NiceModalIdContext);\n    var modalId = null;\n    var isUseComponent = modal && typeof modal !== 'string';\n    if (!modal) {\n        modalId = contextModalId;\n    }\n    else {\n        modalId = getModalId(modal);\n    }\n    // Only if contextModalId doesn't exist\n    if (!modalId)\n        throw new Error('No modal id found in NiceModal.useModal.');\n    var mid = modalId;\n    // If use a component directly, register it.\n    useEffect(function () {\n        if (isUseComponent && !MODAL_REGISTRY[mid]) {\n            register(mid, modal, args);\n        }\n    }, [isUseComponent, mid, modal, args]);\n    var modalInfo = modals[mid];\n    return useMemo(function () { return ({\n        id: mid,\n        args: modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.args,\n        visible: !!(modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.visible),\n        keepMounted: !!(modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.keepMounted),\n        show: function (args) { return show(mid, args); },\n        hide: function (args) { return hide(mid, args); },\n        remove: function () { return remove(mid); },\n    }); }, [mid, modalInfo]);\n};\nexport var create = function (Comp) {\n    return function (_a) {\n        var _b;\n        var defaultVisible = _a.defaultVisible, keepMounted = _a.keepMounted, id = _a.id, props = __rest(_a, [\"defaultVisible\", \"keepMounted\", \"id\"]);\n        var _c = useModal(id), args = _c.args, show = _c.show;\n        // If there's modal state, then should mount it.\n        var modals = useContext(NiceModalContext);\n        var shouldMount = !!modals[id];\n        useEffect(function () {\n            // If defaultVisible, show it after mounted.\n            if (defaultVisible) {\n                show();\n            }\n            ALREADY_MOUNTED[id] = true;\n            return function () {\n                delete ALREADY_MOUNTED[id];\n            };\n        }, [id]); //eslint-disable-line\n        useEffect(function () {\n            if (keepMounted)\n                setFlags(id, { keepMounted: true });\n        }, [id, keepMounted]);\n        var delayVisible = (_b = modals[id]) === null || _b === void 0 ? void 0 : _b.deplayVisible;\n        // If modal.show is called\n        //  1. If modal was mounted, should make it visible directly\n        //  2. If modal has not been mounted, should mount it first, then make it visible\n        useEffect(function () {\n            if (delayVisible) {\n                // delayVisible: false => true, it means the modal.show() is called, should show it.\n                show(args);\n            }\n        }, [delayVisible, args, show]);\n        if (!shouldMount)\n            return null;\n        return (React.createElement(NiceModalIdContext.Provider, { value: id },\n            React.createElement(Comp, __assign({}, props, args))));\n    };\n};\n// All registered modals will be rendered in modal placeholder\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var register = function (id, comp, props) {\n    if (!MODAL_REGISTRY[id]) {\n        MODAL_REGISTRY[id] = { comp: comp, props: props };\n    }\n    else {\n        MODAL_REGISTRY[id].props = props;\n    }\n};\n// The placeholder component is used to auto render modals when call modal.show()\n// When modal.show() is called, it means there've been modal info\nvar NiceModalPlaceholder = function () {\n    var modals = useContext(NiceModalContext);\n    var visibleModalIds = Object.keys(modals).filter(function (id) { return !!modals[id]; });\n    visibleModalIds.forEach(function (id) {\n        if (!MODAL_REGISTRY[id] && !ALREADY_MOUNTED[id]) {\n            console.warn(\"No modal found for id: \" + id + \". Please check the id or if it is registered or declared via JSX.\");\n            return;\n        }\n    });\n    var toRender = visibleModalIds\n        .filter(function (id) { return MODAL_REGISTRY[id]; })\n        .map(function (id) { return (__assign({ id: id }, MODAL_REGISTRY[id])); });\n    return (React.createElement(React.Fragment, null, toRender.map(function (t) { return (React.createElement(t.comp, __assign({ key: t.id, id: t.id }, t.props))); })));\n};\nvar InnerContextProvider = function (_a) {\n    var children = _a.children;\n    var arr = useReducer(reducer, initialState);\n    var modals = arr[0];\n    dispatch = arr[1];\n    return (React.createElement(NiceModalContext.Provider, { value: modals },\n        children,\n        React.createElement(NiceModalPlaceholder, null)));\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var Provider = function (_a) {\n    var children = _a.children, givenDispatch = _a.dispatch, givenModals = _a.modals;\n    if (!givenDispatch || !givenModals) {\n        return React.createElement(InnerContextProvider, null, children);\n    }\n    dispatch = givenDispatch;\n    return (React.createElement(NiceModalContext.Provider, { value: givenModals },\n        children,\n        React.createElement(NiceModalPlaceholder, null)));\n};\nexport var antdModal = function (modal) {\n    return {\n        visible: modal.visible,\n        onOk: function () { return modal.hide(); },\n        onCancel: function () { return modal.hide(); },\n        afterClose: function () { return !modal.keepMounted && modal.remove(); },\n    };\n};\nexport var antdDrawer = function (modal) {\n    return {\n        visible: modal.visible,\n        onClose: function () { return modal.hide(); },\n        afterVisibleChange: function (v) { return !v && !modal.keepMounted && modal.remove(); },\n    };\n};\nexport var muiDialog = function (modal) {\n    return {\n        open: modal.visible,\n        onClose: function () { return modal.hide(); },\n        onExited: function () { return !modal.keepMounted && modal.remove(); },\n    };\n};\nexport var bootstrapDialog = function (modal) {\n    return {\n        show: modal.visible,\n        onHide: function () { return modal.hide(); },\n        onExited: function () { return !modal.keepMounted && modal.remove(); },\n    };\n};\nexport default {\n    Provider: Provider,\n    create: create,\n    register: register,\n    show: show,\n    hide: hide,\n    remove: remove,\n    useModal: useModal,\n    reducer: reducer,\n    antdModal: antdModal,\n    antdDrawer: antdDrawer,\n    muiDialog: muiDialog,\n    bootstrapDialog: bootstrapDialog,\n};\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { Form, Modal } from 'antd';\nimport FormBuilder from 'antd-form-builder';\nimport NiceModal, { useModal, antdModal } from '@ebay/nice-modal-react';\n\nexport default NiceModal.create(({ user }) => {\n  const modal = useModal();\n  const [form] = Form.useForm();\n  const meta = {\n    initialValues: user,\n    fields: [\n      { key: 'name', label: 'Name', required: true },\n      { key: 'job', label: 'Job Title', required: true },\n    ],\n  };\n\n  const handleSubmit = useCallback(() => {\n    form.validateFields().then(() => {\n      modal.hide({ ...user, ...form.getFieldsValue() });\n    });\n  }, [modal, user, form]);\n  return (\n    <Modal\n      {...antdModal(modal)}\n      title={user ? 'Edit User' : 'New User'}\n      okText={user ? 'Update' : 'Create'}\n      onOk={handleSubmit}\n    >\n      <Form form={form}>\n        <FormBuilder meta={meta} form={form} />\n      </Form>\n    </Modal>\n  );\n});\n","const data = [\n  {\n    id: '1',\n    name: 'Kennedy',\n    job: 'Chief Mobility Orchestrator',\n    city: 'North Alec',\n  },\n  {\n    id: '2',\n    name: 'Lucius',\n    job: 'Internal Research Manager',\n    city: 'Littleland',\n  },\n  {\n    id: '3',\n    name: 'Carlos',\n    job: 'Lead Configuration Analyst',\n    city: 'South Lillian',\n  },\n  {\n    id: '4',\n    name: 'Urban',\n    job: 'Chief Operations Agent',\n    city: 'Shieldshaven',\n  },\n  {\n    id: '5',\n    name: 'Katrine',\n    job: 'Legacy Solutions Orchestrator',\n    city: 'South Kyleigh',\n  },\n];\nexport default data;\n","// import { useEffect } from 'react';\n// import NiceModal, { useModal } from '@ebay/nice-modal-react';\n// import MyAntdModal from './MyAntdModal';\n// import MyAntdDrawer from './MyAntdDrawer';\n// import MyBootstrapDialog from './MyBootstrapDialog';\n// import MyMuiDialog from './MyMuiDialog';\nimport useHash from './useHash';\nimport CodeViewer from './CodeViewer';\n// import codeMyAntdModal from '!!raw-loader!./MyAntdModal.tsx';//eslint-disable-line\nimport './App.css';\n\nimport UserList from './UserList';\n// const UserList = () => null;\n// NiceModal.register('mm', MyAntdModal, { name: 'nate333' });\n\nconst examples = {\n  real: {\n    name: 'Real Case',\n    component: UserList,\n    description: 'Show a dialog to create a new user or edit user info.',\n    code: ['UserList.jsx', 'UserInfoModal.jsx'],\n  },\n  mui: {\n    name: 'Material UI',\n  },\n  antd: {\n    name: 'Ant Design',\n    code: ['MyAntdModal.tsx', 'MyAntdModal.tsx'],\n  },\n  bootstrap: {\n    name: 'Bootstrap React',\n  },\n  redux: {\n    name: 'Redux Integration',\n  },\n};\n\nfunction App() {\n  const current = useHash() || 'real';\n\n  const renderExample = () => {\n    const item = examples[current];\n    if (!item || !item.component) {\n      return <span style={{ color: 'red' }}>Error: example \"{current}\" not found.</span>;\n    }\n    const Comp = item.component;\n    return (\n      <>\n        <h1>\n          {item.name}\n          <p className=\"example-description\">{item.description}</p>\n        </h1>\n        <Comp />\n      </>\n    );\n  };\n  const example = examples[current] || {};\n  return (\n    <div className=\"app\">\n      <div className=\"sider\">\n        <h1>\n          <span className=\"header-name\">@ebay/nice-modal-react</span>\n          <span className=\"example-title\">Examples</span>\n        </h1>\n        <div className=\"scroll-container\">\n          <ul>\n            {Object.keys(examples).map((key) => (\n              <li key={key}>\n                <a href={`#${key}`} className={current === key ? 'active' : ''}>\n                  {examples[key].name}\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"social\">\n          <a href=\"https://github.com/ebay/nice-modal-react\">\n            <img src=\"https://img.shields.io/github/stars/eBay/nice-modal-react?style=social\" alt=\"Github Repo\" />\n          </a>\n          <br />\n          <a href=\"https://ebay.github.io/nice-modal-react/api\">\n            <img src=\"https://img.shields.io/badge/API-Reference-green\" alt=\"api reference\" />\n          </a>\n          <br />\n          <a href=\"https://codesandbox.io/s/github/ebay/nice-modal-react/tree/master/examples\">\n            <img width=\"150px\" src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"codesandbox\" />\n          </a>\n        </div>\n      </div>\n      <div>\n        <div className=\"example-container\">{renderExample()}</div>\n        <div className=\"code-container\">\n          {example.code?.map((f) => (\n            <CodeViewer filename={f} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useMemo, useCallback, useState } from 'react';\nimport _ from 'lodash';\nimport { Button, Table } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\nimport { useModal } from '@ebay/nice-modal-react';\nimport UserInfoModal from './UserInfoModal';\nimport mockData from './mock';\n\nexport default function UserList() {\n  const userModal = useModal(UserInfoModal);\n  const [users, setUsers] = useState(mockData);\n\n  const handleNewUser = useCallback(() => {\n    userModal.show().then((newUser) => {\n      if (newUser) setUsers([newUser, ...users]);\n    });\n  }, [userModal, users]);\n\n  const handleEditUser = useCallback(\n    (user) => {\n      userModal.show({ user }).then((newUser) => {\n        if (!newUser) return;\n        setUsers((users) => {\n          // Modify users immutablly\n          const byId = _.keyBy(users, 'id');\n          byId[newUser.id] = newUser;\n          return _.values(byId);\n        });\n      });\n    },\n    [userModal],\n  );\n\n  const columns = useMemo(\n    () => [\n      {\n        title: 'Name',\n        dataIndex: 'name',\n        width: '150px',\n      },\n      {\n        title: 'Job Title',\n        dataIndex: 'job',\n      },\n      {\n        title: 'Edit',\n        width: '100px',\n        render(value, user) {\n          return (\n            <Button\n              type=\"link\"\n              icon={<EditOutlined />}\n              onClick={() => {\n                handleEditUser(user);\n              }}\n            />\n          );\n        },\n      },\n    ],\n    [handleEditUser],\n  );\n\n  return (\n    <div>\n      <Button type=\"primary\" onClick={handleNewUser}>\n        + New User\n      </Button>\n      <Table size=\"small\" pagination={false} columns={columns} dataSource={users} style={{ marginTop: '20px' }} />\n    </div>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport NiceModal from '@ebay/nice-modal-react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <NiceModal.Provider>\n      <App />\n    </NiceModal.Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}